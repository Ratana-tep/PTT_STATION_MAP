const a0_0x3c239a=a0_0x2f24;(function(_0x5e4c99,_0x34ed62){const _0x303d66=a0_0x2f24,_0x4efb6e=_0x5e4c99();while(!![]){try{const _0x53bc16=parseInt(_0x303d66(0x117))/0x1+-parseInt(_0x303d66(0x145))/0x2+parseInt(_0x303d66(0x17d))/0x3+parseInt(_0x303d66(0x130))/0x4*(-parseInt(_0x303d66(0x187))/0x5)+parseInt(_0x303d66(0xf2))/0x6+parseInt(_0x303d66(0x126))/0x7*(parseInt(_0x303d66(0xe7))/0x8)+-parseInt(_0x303d66(0x11d))/0x9;if(_0x53bc16===_0x34ed62)break;else _0x4efb6e['push'](_0x4efb6e['shift']());}catch(_0x115760){_0x4efb6e['push'](_0x4efb6e['shift']());}}}(a0_0x24df,0x36bff));var map=L['map'](a0_0x3c239a(0xfa))[a0_0x3c239a(0x18a)]([11.55,104.91],0x7);L[a0_0x3c239a(0x16e)](a0_0x3c239a(0x116),{})['addTo'](map);var markers=L[a0_0x3c239a(0x17a)]({'iconCreateFunction':function(_0x1fbcfa){const _0x2e612b=a0_0x3c239a;var _0x178063=_0x1fbcfa[_0x2e612b(0x183)](),_0x1c5bf8=_0x178063[_0x2e612b(0xe2)](function(_0x186730){const _0x5c8df3=_0x2e612b;return _0x186730[_0x5c8df3(0x10a)][_0x5c8df3(0x13b)]['options'][_0x5c8df3(0x180)][_0x5c8df3(0x10b)](_0x5c8df3(0x100));}),_0x28b368='<div\x20class=\x22cluster-icon-container\x22\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1c5bf8?_0x2e612b(0xed):'')+_0x2e612b(0x118)+_0x1fbcfa['getChildCount']()+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';return L[_0x2e612b(0x178)]({'html':_0x28b368,'className':_0x2e612b(0x102),'iconSize':L[_0x2e612b(0x17c)](0x28,0x28)});}}),allMarkers=[];let currentLocationMarker=null,currentLocationCircle=null,isZooming=![];function setMapToCurrentLocation(){const _0x1fc7b7=a0_0x3c239a;getCurrentLocation()['then'](_0x15489d=>{const _0x2c8191=a0_0x2f24,{lat:_0x558c9b,lng:_0x46f07c}=_0x15489d;map[_0x2c8191(0x18a)]([_0x558c9b,_0x46f07c],0xf);currentLocationMarker&&map['removeLayer'](currentLocationMarker);currentLocationCircle&&map[_0x2c8191(0x12a)](currentLocationCircle);currentLocationCircle=L[_0x2c8191(0x170)]([_0x558c9b,_0x46f07c],{'color':_0x2c8191(0x162),'fillColor':'blue','fillOpacity':0.2,'radius':0xc8,'className':_0x2c8191(0x157)})[_0x2c8191(0x12f)](map);var _0x2ca16c=L[_0x2c8191(0x13b)]({'iconUrl':_0x2c8191(0x159),'iconSize':[0x19,0x29],'iconAnchor':[0xc,0x29],'popupAnchor':[0x1,-0x22],'shadowSize':[0x29,0x29]});currentLocationMarker=L[_0x2c8191(0x11f)]([_0x558c9b,_0x46f07c],{'icon':_0x2ca16c})[_0x2c8191(0x12f)](map),currentLocationMarker['bindPopup'](_0x2c8191(0x14b))[_0x2c8191(0x122)]();})[_0x1fc7b7(0x114)](_0x4600fc=>{const _0x4a372e=_0x1fc7b7;console['error']('Error\x20getting\x20current\x20location:',_0x4600fc),alert(_0x4a372e(0x151));});}fetch(a0_0x3c239a(0x12c))[a0_0x3c239a(0xe5)](_0x44e665=>_0x44e665['json']())['then'](_0x3ef379=>{const _0x53ed6a=a0_0x3c239a;var _0x4b327f=_0x3ef379[_0x53ed6a(0x142)];populateIconContainersAndDropdown(_0x4b327f),fetch(_0x53ed6a(0xf0))[_0x53ed6a(0xe5)](_0xd276a1=>_0xd276a1[_0x53ed6a(0xe6)]())['then'](_0x28ada6=>{const _0x39c5d2=_0x53ed6a;_0x4b327f[_0x39c5d2(0x174)](_0x301f80=>{const _0x425bc5=_0x39c5d2,_0x14f4ee=_0x28ada6['PROMOTIONS']['find'](_0xc90124=>_0xc90124['station_id']==_0x301f80['id']);_0x301f80[_0x425bc5(0x135)]=_0x14f4ee?_0x14f4ee[_0x425bc5(0x135)]:[];var _0xdd3346=getIconUrl(_0x301f80[_0x425bc5(0x172)]),_0x350a97=L[_0x425bc5(0x178)]({'html':_0x425bc5(0x17e)+_0xdd3346+_0x425bc5(0x132)+(_0x301f80[_0x425bc5(0x135)][_0x425bc5(0xf5)]>0x0?'<div\x20class=\x22red-dot\x20animate\x22\x20style=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20width:\x2012px;\x20height:\x2012px;\x20background-color:\x20red;\x20border-radius:\x2050%;\x20border:\x202px\x20solid\x20white;\x22></div>':'')+_0x425bc5(0xe0),'className':'','iconSize':[0x29,0x3e],'iconAnchor':[0x18,0x3e],'popupAnchor':[0x1,-0x22]}),_0xf3f00f=L[_0x425bc5(0x11f)]([_0x301f80[_0x425bc5(0x123)],_0x301f80[_0x425bc5(0xf9)]],{'icon':_0x350a97}),_0x3056b7='https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/'+_0x301f80[_0x425bc5(0x147)];_0xf3f00f['on']('click',function(){const _0x34087d=_0x425bc5;map[_0x34087d(0x13d)]()<0xf?(map['flyTo']([_0x301f80['latitude'],_0x301f80[_0x34087d(0xf9)]],0xf,{'animate':!![],'duration':0x1}),setTimeout(()=>{const _0xa3ec9c=_0x34087d;showMarkerModal(_0x301f80,_0x3056b7),getCurrentLocation()[_0xa3ec9c(0xe5)](_0x34e045=>{const _0x34d041=_0xa3ec9c;getBingRoute(_0x34e045[_0x34d041(0xf4)],_0x34e045[_0x34d041(0x16c)],_0x301f80['latitude'],_0x301f80['longitude'])[_0x34d041(0xe5)](_0x377aa3=>{const {distance:_0x1f56f8,travelTime:_0x572b45}=_0x377aa3;updateModalWithRoute(_0x1f56f8,_0x572b45,_0x301f80['status']);})[_0x34d041(0x114)](_0x3f13a0=>{const _0x5b008b=_0x34d041;console[_0x5b008b(0x158)](_0x5b008b(0x11b),_0x3f13a0),updateModalWithRoute(_0x5b008b(0x13f),_0x5b008b(0x13f),_0x301f80[_0x5b008b(0x172)]);});})[_0xa3ec9c(0x114)](_0x5bfa22=>{const _0xfd9854=_0xa3ec9c;console[_0xfd9854(0x158)](_0xfd9854(0x182),_0x5bfa22),updateModalWithRoute('N/A',_0xfd9854(0x13f),_0x301f80[_0xfd9854(0x172)]);});},0x3e8)):(showMarkerModal(_0x301f80,_0x3056b7),getCurrentLocation()[_0x34087d(0xe5)](_0x5b20b6=>{const _0x3b2d38=_0x34087d;getBingRoute(_0x5b20b6[_0x3b2d38(0xf4)],_0x5b20b6[_0x3b2d38(0x16c)],_0x301f80[_0x3b2d38(0x123)],_0x301f80['longitude'])['then'](_0x548c74=>{const _0x5a9388=_0x3b2d38,{distance:_0x3972e7,travelTime:_0x3da62d}=_0x548c74;updateModalWithRoute(_0x3972e7,_0x3da62d,_0x301f80[_0x5a9388(0x172)]);})[_0x3b2d38(0x114)](_0x2c388d=>{const _0x1b3e93=_0x3b2d38;console[_0x1b3e93(0x158)](_0x1b3e93(0x11b),_0x2c388d),updateModalWithRoute('N/A','N/A',_0x301f80['status']);});})[_0x34087d(0x114)](_0x3551c7=>{const _0x29b0bc=_0x34087d;console['error'](_0x29b0bc(0x182),_0x3551c7),updateModalWithRoute(_0x29b0bc(0x13f),_0x29b0bc(0x13f),_0x301f80[_0x29b0bc(0x172)]);}));}),markers[_0x425bc5(0x13e)](_0xf3f00f),allMarkers[_0x425bc5(0x15d)]({'marker':_0xf3f00f,'data':_0x301f80});}),map[_0x39c5d2(0x13e)](markers),map[_0x39c5d2(0x14a)](markers[_0x39c5d2(0x15e)]()),setMapToCurrentLocation();})['catch'](_0x187cef=>console[_0x53ed6a(0x158)]('Error\x20fetching\x20promotion\x20data:',_0x187cef));})[a0_0x3c239a(0x114)](_0x1afa43=>console[a0_0x3c239a(0x158)](a0_0x3c239a(0x149),_0x1afa43)),document[a0_0x3c239a(0xe4)](a0_0x3c239a(0x140))[a0_0x3c239a(0x160)](a0_0x3c239a(0xfc),function(){setMapToCurrentLocation();});function getCurrentLocation(){return new Promise((_0x57f9af,_0x1ad3ae)=>{const _0x5ddfb4=a0_0x2f24;_0x5ddfb4(0x14c)in navigator?navigator['geolocation'][_0x5ddfb4(0x115)](function(_0x507c17){const _0x411ed1=_0x5ddfb4;_0x57f9af({'lat':_0x507c17[_0x411ed1(0x16b)][_0x411ed1(0x123)],'lng':_0x507c17['coords'][_0x411ed1(0xf9)]});},function(_0x4e5227){_0x1ad3ae(_0x4e5227);},{'enableHighAccuracy':!![],'timeout':0x1388,'maximumAge':0x0}):_0x1ad3ae(new Error(_0x5ddfb4(0x15b)));});}function getIconUrl(_0x2f8334){const _0x91a6ed=a0_0x3c239a,_0x159cad=new Date()[_0x91a6ed(0x103)](_0x91a6ed(0x16f),{'timeZone':_0x91a6ed(0x161)}),_0x56d0a7=new Date(_0x159cad),_0x5b4ed0=_0x56d0a7[_0x91a6ed(0xf6)](),_0x3c15ce=_0x56d0a7[_0x91a6ed(0x152)](),_0x17e77c=_0x2f8334[_0x91a6ed(0x176)]()===_0x91a6ed(0x120),_0x3ad034=_0x2f8334['toLowerCase']()===_0x91a6ed(0x181);if(_0x3ad034)return _0x91a6ed(0x166);else{if(_0x17e77c)return'./pictures/61.png';else{const _0x14d623=0x5,_0x41ebc1=0x14,_0xec63ad=0x1e,_0x1ab85e=_0x5b4ed0>=_0x14d623&&(_0x5b4ed0<_0x41ebc1||_0x5b4ed0===_0x41ebc1&&_0x3c15ce<_0xec63ad);return _0x1ab85e?_0x91a6ed(0x166):_0x91a6ed(0x18c);}}}function a0_0x2f24(_0x2b3689,_0x1a701a){const _0x24df13=a0_0x24df();return a0_0x2f24=function(_0x2f2443,_0x579808){_0x2f2443=_0x2f2443-0xe0;let _0x169c32=_0x24df13[_0x2f2443];return _0x169c32;},a0_0x2f24(_0x2b3689,_0x1a701a);}function getBingRoute(_0x1d6a59,_0x32c636,_0x206109,_0x448b0f){const _0xabd754=a0_0x3c239a,_0x91ca70=_0xabd754(0x10c),_0x8d7155=_0xabd754(0x112)+_0x1d6a59+','+_0x32c636+_0xabd754(0xeb)+_0x206109+','+_0x448b0f+_0xabd754(0x141)+_0x91ca70;return fetch(_0x8d7155)[_0xabd754(0xe5)](_0x3f5b70=>_0x3f5b70[_0xabd754(0xe6)]())[_0xabd754(0xe5)](_0x1e1ae0=>{const _0x860775=_0xabd754;if(_0x1e1ae0['resourceSets'][0x0]['resources'][_0x860775(0xf5)]>0x0){const _0x2b997f=_0x1e1ae0[_0x860775(0x11c)][0x0][_0x860775(0x124)][0x0],_0x56f1d0=_0x2b997f['travelDistance'],_0x1d2077=_0x2b997f['travelDurationTraffic']/0x3c;return{'distance':_0x56f1d0['toFixed'](0x2)+'\x20km','travelTime':Math['floor'](_0x1d2077/0x3c)+'\x20hr.\x20'+Math[_0x860775(0x156)](_0x1d2077%0x3c)+_0x860775(0x148)};}else throw new Error(_0x860775(0xe9));})[_0xabd754(0x114)](_0xb107d4=>{const _0x1b10f6=_0xabd754;console[_0x1b10f6(0x158)](_0x1b10f6(0x11b),_0xb107d4);throw _0xb107d4;});}function showMarkerModal(_0x9c94b0,_0x2b3757){const _0x5e7fb5=a0_0x3c239a;var _0x1c7389=document[_0x5e7fb5(0xe4)](_0x5e7fb5(0x173));const _0x1ec9c3=_0x9c94b0[_0x5e7fb5(0x165)]['map'](_0x1514f1=>_0x5e7fb5(0x15a)+getProductIcon(_0x1514f1)+_0x5e7fb5(0xef)+_0x1514f1+_0x5e7fb5(0x169)+getProductIcon(_0x1514f1)+'\x22\x20/>\x20'+_0x1514f1+_0x5e7fb5(0x17b))['join'](''),_0x5cb98f=_0x9c94b0['other_product']&&_0x9c94b0[_0x5e7fb5(0x121)][0x0]?_0x9c94b0['other_product'][_0x5e7fb5(0xfa)](_0x123d56=>'<div\x20class=\x22info\x20product-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+getProductIcon(_0x123d56)+_0x5e7fb5(0x14d)+_0x123d56+_0x5e7fb5(0x169)+getProductIcon(_0x123d56)+_0x5e7fb5(0x111)+_0x123d56+_0x5e7fb5(0x12e))['join'](''):'',_0x13a6d9=_0x9c94b0[_0x5e7fb5(0xfe)][_0x5e7fb5(0xfa)](_0x4e9c3f=>_0x5e7fb5(0x14f)+getItemIcon(_0x4e9c3f)+_0x5e7fb5(0xf1)+_0x4e9c3f+_0x5e7fb5(0x169)+getItemIcon(_0x4e9c3f)+_0x5e7fb5(0x111)+_0x4e9c3f+'\x0a\x20\x20\x20\x20</div>')[_0x5e7fb5(0x11a)](''),_0x4a0cd2=_0x9c94b0[_0x5e7fb5(0x101)]&&_0x9c94b0[_0x5e7fb5(0x101)][0x0]?_0x9c94b0[_0x5e7fb5(0x101)][_0x5e7fb5(0xfa)](_0x8da8e6=>'<div\x20class=\x22info\x20service-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22'+getItemIcon(_0x8da8e6)+_0x5e7fb5(0x108)+_0x8da8e6+'\x22\x20data-image=\x22'+getItemIcon(_0x8da8e6)+_0x5e7fb5(0x111)+_0x8da8e6+_0x5e7fb5(0x12e))[_0x5e7fb5(0x11a)](''):'',_0x2fc1ff=_0x9c94b0[_0x5e7fb5(0x135)]&&_0x9c94b0[_0x5e7fb5(0x135)][_0x5e7fb5(0xf5)]>0x0?_0x9c94b0[_0x5e7fb5(0x135)][_0x5e7fb5(0xfa)](_0x318cd0=>_0x5e7fb5(0xf3)+getPromotionImageUrl_MARKER(_0x318cd0['promotion_id'])+_0x5e7fb5(0x179)+_0x318cd0[_0x5e7fb5(0x10e)]+_0x5e7fb5(0x169)+getPromotionImageUrl_MARKER(_0x318cd0[_0x5e7fb5(0x10e)])+'\x22\x20style=\x22margin-right:\x2010px;\x20width:\x2050px;\x20height:\x20auto;\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22promotion-label\x22\x20data-promotion=\x22'+_0x318cd0[_0x5e7fb5(0x101)]+'\x22>'+_0x318cd0['description']+_0x5e7fb5(0x18b)+new Date(_0x318cd0[_0x5e7fb5(0x119)])[_0x5e7fb5(0x175)]()+_0x5e7fb5(0x11e))[_0x5e7fb5(0x11a)](''):_0x5e7fb5(0x143);_0x1c7389[_0x5e7fb5(0x131)]=_0x5e7fb5(0x186)+_0x2b3757+'\x22\x20alt=\x22'+_0x9c94b0[_0x5e7fb5(0x12b)]+'\x22\x20class=\x22img-fluid\x20mb-3\x20rounded-image\x20reviewable-image\x22\x20data-image=\x22'+_0x2b3757+_0x5e7fb5(0xf8)+_0x9c94b0[_0x5e7fb5(0x12b)]+_0x5e7fb5(0xfb)+_0x9c94b0[_0x5e7fb5(0xea)]+'</div>\x0a\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20<div\x20id=\x22route-info\x22\x20class=\x22d-flex\x20justify-content-center\x20mb-3\x22></div>\x20\x0a\x20\x20\x20<div\x20class=\x22separator\x22></div>\x0a\x20\x20\x20<div\x20class=\x22nav-tabs-container\x22>\x0a<ul\x20class=\x22nav\x20nav-tabs\x20flex-nowrap\x22\x20id=\x22myTab\x22\x20role=\x22tablist\x22>\x0a\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x20active\x22\x20id=\x22promotion-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#promotion\x22\x20type=\x22button\x22\x20role=\x22tab\x22\x20aria-controls=\x22promotion\x22\x20aria-selected=\x22true\x22>Promotion</button>\x0a\x20\x20</li>\x0a\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22products-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#products\x22\x20type=\x22button\x22\x20role=\x22tab\x22\x20aria-controls=\x22products\x22\x20aria-selected=\x22false\x22>Products</button>\x0a\x20\x20</li>\x0a\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22payment-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#payment\x22\x20type=\x22button\x22\x20role=\x22tab\x22\x20aria-controls=\x22payment\x22\x20aria-selected=\x22false\x22>Payment</button>\x0a\x20\x20</li>\x0a\x20\x20<li\x20class=\x22nav-item\x22\x20role=\x22presentation\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22nav-link\x22\x20id=\x22services-tab\x22\x20data-bs-toggle=\x22tab\x22\x20data-bs-target=\x22#services\x22\x20type=\x22button\x22\x20role=\x22tab\x22\x20aria-controls=\x22services\x22\x20aria-selected=\x22false\x22>Services</button>\x0a\x20\x20</li>\x0a</ul>\x0a\x0a\x20\x20\x20</div>\x0a\x20\x20\x20\x0a\x20\x20\x20<!--\x20Tab\x20panes\x20with\x20smooth\x20animation\x20-->\x0a\x20\x20\x20<div\x20class=\x22tab-content\x20mt-3\x22>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x20\x22\x20id=\x22products\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22products-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22scrollable-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5>Products</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22product-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ec9c3+_0x5e7fb5(0x127)+(_0x5cb98f?'<div\x20class=\x22separator\x22></div><h5>Other\x20Products</h5><div\x20class=\x22product-row\x22>'+_0x5cb98f+'</div>':'')+_0x5e7fb5(0x113)+_0x13a6d9+_0x5e7fb5(0x109)+_0x4a0cd2+_0x5e7fb5(0x136)+_0x2fc1ff+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20</div>\x0a\x20\x20\x20<div\x20class=\x22text-center\x20mt-3\x22>\x0a\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20justify-content-center\x20align-items-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22icon-background\x20mx-2\x22\x20onclick=\x22shareLocation('+_0x9c94b0['latitude']+',\x20'+_0x9c94b0[_0x5e7fb5(0xf9)]+_0x5e7fb5(0x10d)+_0x9c94b0[_0x5e7fb5(0x123)]+',\x20'+_0x9c94b0[_0x5e7fb5(0xf9)]+')\x22>GO</button>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22icon-background\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-location-arrow\x20navigate-icon\x20mx-2\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20</div>\x0a</div>\x0a';var _0x32456b=new bootstrap[(_0x5e7fb5(0x163))](document[_0x5e7fb5(0xe4)](_0x5e7fb5(0x155)),{'keyboard':![]});_0x32456b[_0x5e7fb5(0x185)]();var _0x341fbb=[][_0x5e7fb5(0x184)]['call'](document[_0x5e7fb5(0x15c)](_0x5e7fb5(0x12d)));_0x341fbb['forEach'](function(_0x1e4340){const _0x49b858=_0x5e7fb5;var _0xf3d82e=new bootstrap[(_0x49b858(0x177))](_0x1e4340);_0x1e4340[_0x49b858(0x160)](_0x49b858(0xfc),function(_0x1dbbcb){const _0x2b7e19=_0x49b858;_0x1dbbcb[_0x2b7e19(0x188)](),_0xf3d82e[_0x2b7e19(0x185)]();});});const _0x3a9b3e=document[_0x5e7fb5(0x15c)](_0x5e7fb5(0xe1));_0x3a9b3e['forEach'](_0x539c57=>{const _0x8e56d2=_0x5e7fb5;_0x539c57[_0x8e56d2(0x160)]('click',function(){const _0xdd2071=_0x8e56d2,_0x3b3ce2=this['getAttribute'](_0xdd2071(0x107));showImagePreview(_0x3b3ce2);});});}function showImagePreview(_0x2bdeb5){const _0x140090=a0_0x3c239a,_0x3bed40=document['getElementById'](_0x140090(0x13c));_0x3bed40[_0x140090(0x129)]=_0x2bdeb5;const _0x4de071=new bootstrap[(_0x140090(0x163))](document[_0x140090(0xe4)]('imagePreviewModal'),{'keyboard':![]});_0x4de071[_0x140090(0x185)]();}function getProductIcon(_0x4c9f23){const _0xc073ad=a0_0x3c239a,_0x2dd4dc={'ULR\x2091':'./pictures/ULR91.png','ULG\x2095':_0xc073ad(0x139),'HSD':_0xc073ad(0x15f),'EV':_0xc073ad(0x13a),'Onion':'./pictures/onion.png'};return _0x2dd4dc[_0x4c9f23]||_0xc073ad(0xee);}function getItemIcon(_0x349649){const _0x12ee2a=a0_0x3c239a,_0x3327d3={'Fleet\x20card':_0x12ee2a(0x16d),'KHQR':_0x12ee2a(0x110),'Cash':'./pictures/cash.png','Amazon':_0x12ee2a(0xe8),'7-Eleven':_0x12ee2a(0x137)};return _0x3327d3[_0x349649]||_0x12ee2a(0xee);}function getPromotionImageUrl_MARKER(_0x588632){const _0x3b1832=a0_0x3c239a,_0xa49b22={'promotion\x201':_0x3b1832(0xff),'promotion\x202':_0x3b1832(0xe3),'promotion\x203':_0x3b1832(0x171),'promotion\x204':_0x3b1832(0xf7),'promotion\x20opening\x201':'https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_opening_1.jpg','promotion\x20opening\x202':_0x3b1832(0x134),'promotion\x20opening\x203':_0x3b1832(0xfd),'promotion\x20opening\x204':'https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_opening_4.jpg'};return _0xa49b22[_0x588632]||_0x3b1832(0x14e);}function updateModalWithRoute(_0x3bc9d3,_0x1e4473,_0x47adb7){const _0x198396=a0_0x3c239a;var _0x408369=document[_0x198396(0xe4)]('route-info');const _0x46f2be=getStatusInfo(_0x47adb7);_0x408369[_0x198396(0x131)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge\x20bg-primary\x20text-white\x20mx-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-clock\x20icon-background\x22></i>\x20'+_0x1e4473+_0x198396(0x146)+_0x3bc9d3+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge\x20'+_0x46f2be['badgeClass']+_0x198396(0x125)+_0x46f2be['iconClass']+'\x20icon-background\x22></i>\x20'+_0x46f2be['displayText']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';}function a0_0x24df(){const _0x3cf481=['open','\x22\x20data-image=\x22','bg-success\x20text-white','coords','lng','./pictures/fleet.png','tileLayer','en-US','circle','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_3.jpg','status','markerModalBody','forEach','toLocaleDateString','toLowerCase','Tab','divIcon','\x22\x20class=\x22promotion-icon\x20full\x20reviewable-image\x22\x20alt=\x22','markerClusterGroup','\x0a\x20\x20\x20\x20</div>','point','918924bfZUjh','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22custom-icon-container\x22\x20style=\x22position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Open\x20until\x208:30\x20PM','html','under\x20construct','Error\x20getting\x20current\x20location:','getAllChildMarkers','slice','show','\x0a<div\x20class=\x22station-details\x22>\x0a\x20\x20\x20<img\x20src=\x22','125YXzqQB','preventDefault','Closed','setView','</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>(ends\x20on\x20','./pictures/time_close1.png','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','.reviewable-image','some','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_2.jpg','getElementById','then','json','8PwMJkI','./pictures/amazon.png','No\x20route\x20found','address','&wp.1=','Under\x20Construction','<div\x20class=\x22red-dot\x20animate\x22\x20style=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x22></div>','./pictures/default.png','\x22\x20class=\x22product-icon\x20round\x20reviewable-image\x22\x20alt=\x22','https://raw.githubusercontent.com/pttpos/map_ptt/main/data/promotions.json','\x22\x20class=\x22payment-icon\x20full\x20reviewable-image\x22\x20alt=\x22','2680698ZPwKJH','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22info\x20promotion-item\x22\x20style=\x22display:\x20flex;\x20align-items:\x20center;\x20margin-bottom:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','lat','length','getHours','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_4.jpg','\x22\x20/>\x0a\x20\x20\x20<div\x20class=\x22text-center\x22>\x0a\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22station-title\x20mb-3\x20font-weight-bold\x22>','longitude','map','</h3>\x0a\x20\x20\x20</div>\x0a\x20\x20\x20<div\x20class=\x22info\x22><i\x20class=\x22fas\x20fa-map-marker-alt\x20icon\x22></i>\x20','click','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_opening_3.jpg','service','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_1.jpg','red-dot','description','custom-cluster-icon','toLocaleString','_blank','share','_self','data-image','\x22\x20class=\x22service-icon\x20full\x20reviewable-image\x22\x20alt=\x22','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x22\x20id=\x22services\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22services-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22scrollable-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5>Services</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22service-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','options','includes','AhQxc3Nm4Sfv53x7JRXUoj76QZnlm7VWkT5qAigmHQo8gjeYFthvGgEqVcjO5c7C',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-share-alt\x20share-icon\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-primary\x20rounded-circle\x20mx-5\x20go-button\x20pulse\x22\x20onclick=\x22openGoogleMaps(','promotion_id','fa-gas-pump','./pictures/KHQR.png','\x22\x20/>\x20','https://dev.virtualearth.net/REST/V1/Routes/Driving?wp.0=','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x22\x20id=\x22payment\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22payment-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22scrollable-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5>Payment\x20Methods</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22description-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','catch','getCurrentPosition','https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png','204079vQqfVP','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22cluster-number\x22\x20style=\x22background:\x20rgba(0,\x2027,\x20255,\x200.8);\x20border-radius:\x2050%;\x20color:\x20white;\x20width:\x2030px;\x20height:\x2030px;\x20display:\x20flex;\x20align-items:\x20center;\x20justify-content:\x20center;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','end_time','join','Error\x20getting\x20route\x20from\x20Bing\x20Maps:','resourceSets','566820kVFtOX',')</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20','marker','24h','other_product','openPopup','latitude','resources','\x20text-white\x20mx-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','83573dADgEq','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Thanks\x20for\x20sharing!','src','removeLayer','title','https://raw.githubusercontent.com/pttpos/map_ptt/main/data/markers.json','#myTab\x20button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','addTo','66580ASDaoS','innerHTML','\x22\x20class=\x22station-icon\x22\x20style=\x22width:\x2041px;\x20height:\x2062px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://www.google.com/maps?q=','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/promotion/promotion_opening_2.jpg','promotions','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tab-pane\x20fade\x20show\x20active\x22\x20id=\x22promotion\x22\x20role=\x22tabpanel\x22\x20aria-labelledby=\x22promotion-tab\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22scrollable-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5>Promotion</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22promotion-row\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','./pictures/7eleven.png','fa-tools','./pictures/ULG95.png','./pictures/ev.png','icon','imagePreview','getZoom','addLayer','N/A','myLocationBtn','&optmz=timeWithTraffic&key=','STATION','<p>No\x20promotions\x20available.</p>','bg-warning\x20text-white\x20blink-border','531498HiAFhk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge\x20bg-primary\x20text-white\x20mx-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-location-arrow\x20icon-background\x22></i>â‰ˆ\x20','picture','\x20min','Error\x20fetching\x20data:','fitBounds','You\x20are\x20here.','geolocation','\x22\x20class=\x22product-icon\x20full\x20reviewable-image\x22\x20alt=\x22','https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/default.png','<div\x20class=\x22info\x20payment-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','fa-times-circle','Error\x20getting\x20your\x20location.\x20Please\x20try\x20again\x20later.','getMinutes','https://www.google.com/maps/dir/?api=1&destination=','Check\x20out\x20this\x20location:','markerModal','round','pulse-circle','error','./pictures/mylocal.png','<div\x20class=\x22info\x20product-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22','Geolocation\x20is\x20not\x20supported\x20by\x20your\x20browser.','querySelectorAll','push','getBounds','./pictures/HSD.png','addEventListener','Asia/Phnom_Penh','blue','Modal','getTime','product','./pictures/61.png','log'];a0_0x24df=function(){return _0x3cf481;};return a0_0x24df();}function getStatusInfo(_0x91d0f2){const _0x4defed=a0_0x3c239a,_0x4cc54e=new Date(new Date()[_0x4defed(0x103)]('en-US',{'timeZone':_0x4defed(0x161)})),_0x37a0da=_0x4cc54e[_0x4defed(0xf6)](),_0x4fc9c9=_0x4cc54e['getMinutes']();if(_0x91d0f2[_0x4defed(0x176)]()==='under\x20construct')return{'iconClass':_0x4defed(0x138),'badgeClass':_0x4defed(0x144),'displayText':_0x4defed(0xec)};else{if(_0x91d0f2[_0x4defed(0x176)]()===_0x4defed(0x120))return{'iconClass':'fa-gas-pump','badgeClass':_0x4defed(0x16a),'displayText':'Open\x2024h'};else{const _0x5a22ae=0x5,_0xbef6a7=0x14,_0xf7f309=0x1e;return _0x37a0da<_0x5a22ae||_0x37a0da>_0xbef6a7||_0x37a0da===_0xbef6a7&&_0x4fc9c9>=_0xf7f309||_0x37a0da>=0x0&&_0x37a0da<0x5?{'iconClass':_0x4defed(0x150),'badgeClass':'bg-danger\x20text-white','displayText':_0x4defed(0x189)}:{'iconClass':_0x4defed(0x10f),'badgeClass':'bg-success\x20text-white','displayText':_0x4defed(0x17f)};}}}function fetchData(_0x341fff){const _0x229f7f=a0_0x3c239a,_0x1b8377='?nocache='+new Date()[_0x229f7f(0x164)]();return fetch(_0x341fff+_0x1b8377)[_0x229f7f(0xe5)](_0x3f2cd2=>_0x3f2cd2[_0x229f7f(0xe6)]())[_0x229f7f(0x114)](_0x32a473=>{const _0x3422c7=_0x229f7f;console[_0x3422c7(0x158)](_0x3422c7(0x149),_0x32a473);throw _0x32a473;});}const dataUrl=a0_0x3c239a(0x12c);fetchData(dataUrl)[a0_0x3c239a(0xe5)](_0x2c97e3=>{});function openGoogleMaps(_0x5c141d,_0x5b1615){const _0x466c5e=a0_0x3c239a;var _0x16268e=_0x466c5e(0x153)+_0x5c141d+','+_0x5b1615;window['open'](_0x16268e,_0x466c5e(0x106));}function shareLocation(_0xd1423c,_0x3a866f){const _0x14e2a5=a0_0x3c239a;var _0x10aeb9=_0x14e2a5(0x133)+_0xd1423c+','+_0x3a866f;navigator[_0x14e2a5(0x105)]?navigator[_0x14e2a5(0x105)]({'title':'Location','text':_0x14e2a5(0x154),'url':_0x10aeb9})[_0x14e2a5(0xe5)](()=>{const _0x300baf=_0x14e2a5;console[_0x300baf(0x167)](_0x300baf(0x128));})['catch'](console['error']):window[_0x14e2a5(0x168)](_0x10aeb9,_0x14e2a5(0x104));}function populateIconContainersAndDropdown(_0x4a7530){}