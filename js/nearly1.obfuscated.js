function a0_0x7c94(){const _0xb62001=['3444203LUZfMV','toLocaleTimeString','openPopup','520176iNgxTc','latitude','getMinutes','toLowerCase','product','other_product','\x20km\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex-grow-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22station-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Marker\x20not\x20found\x20for\x20station:','nearbyStationsOffcanvas','213102SNdhGU','getElementById','hide','displayText','N/A','closed-station','join','innerHTML','en-US','lng','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','STATION','384267GLEeAF','Error\x20getting\x20current\x20location:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22icons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','list-group-item','distance','Under\x20Construction','catch','</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22mb-1\x22>','Closed','sqrt','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','iconClass','Open\x2024h','24h','length','addEventListener','5296190TJDzhB','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20getting\x20route\x20from\x20Bing\x20Maps:','\x22\x20alt=\x22','map','getHours','picture','click','title','\x22\x20class=\x22img-thumbnail\x20me-3\x22\x20style=\x22width:\x20100px;\x20height:\x20100px;\x20object-fit:\x20cover;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20flex-column\x20align-items-start\x20gap-1\x20mt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22badge\x20bg-primary\x20text-white\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-location-arrow\x20me-1\x22></i>â‰ˆ\x20','Error\x20fetching\x20data:','status','16fRnioZ','service','6sAhFbp','\x20me-1\x22></i>\x20','atan2','add','filter','find','42CVrflk','description','Error\x20getting\x20your\x20location.\x20Please\x20try\x20again\x20later.','sin','classList','longitude','9754exnboW','2520750KKmxIT','Offcanvas','toFixed','<img\x20src=\x22','nearbyStationsBtn','toLocaleString','open-station','bg-warning\x20text-white\x20blink-border','setView','error','then','fa-gas-pump','\x20text-white\x20small\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','lat','cos','getInstance'];a0_0x7c94=function(){return _0xb62001;};return a0_0x7c94();}const a0_0x5ea982=a0_0xa61c;function a0_0xa61c(_0x2aaefc,_0x5b52c9){const _0x7c9451=a0_0x7c94();return a0_0xa61c=function(_0xa61cca,_0x2f563a){_0xa61cca=_0xa61cca-0x150;let _0x1fc885=_0x7c9451[_0xa61cca];return _0x1fc885;},a0_0xa61c(_0x2aaefc,_0x5b52c9);}(function(_0x508175,_0x121610){const _0x4de8ea=a0_0xa61c,_0x4482f6=_0x508175();while(!![]){try{const _0x2e6486=-parseInt(_0x4de8ea(0x16b))/0x1*(parseInt(_0x4de8ea(0x171))/0x2)+parseInt(_0x4de8ea(0x19b))/0x3+-parseInt(_0x4de8ea(0x185))/0x4+-parseInt(_0x4de8ea(0x172))/0x5+parseInt(_0x4de8ea(0x165))/0x6*(parseInt(_0x4de8ea(0x182))/0x7)+-parseInt(_0x4de8ea(0x163))/0x8*(parseInt(_0x4de8ea(0x18f))/0x9)+parseInt(_0x4de8ea(0x156))/0xa;if(_0x2e6486===_0x121610)break;else _0x4482f6['push'](_0x4482f6['shift']());}catch(_0x2afd58){_0x4482f6['push'](_0x4482f6['shift']());}}}(a0_0x7c94,0x404b9));function calculateDistance(_0x558059,_0x255316,_0x33c0be,_0x3896e2){const _0x22f822=a0_0xa61c,_0xd7a192=0x18e3,_0x4650b0=(_0x33c0be-_0x558059)*(Math['PI']/0xb4),_0x197875=(_0x3896e2-_0x255316)*(Math['PI']/0xb4),_0x57f5d9=Math['sin'](_0x4650b0/0x2)*Math['sin'](_0x4650b0/0x2)+Math[_0x22f822(0x180)](_0x558059*(Math['PI']/0xb4))*Math[_0x22f822(0x180)](_0x33c0be*(Math['PI']/0xb4))*Math[_0x22f822(0x16e)](_0x197875/0x2)*Math[_0x22f822(0x16e)](_0x197875/0x2),_0xd4ddd2=0x2*Math[_0x22f822(0x167)](Math['sqrt'](_0x57f5d9),Math[_0x22f822(0x1a4)](0x1-_0x57f5d9)),_0x5cdbf5=_0xd7a192*_0xd4ddd2;return _0x5cdbf5;}function getStatusInfo(_0x32cb12){const _0x14f28f=a0_0xa61c,_0x3b5f14=new Date(new Date()[_0x14f28f(0x177)](_0x14f28f(0x197),{'timeZone':'Asia/Phnom_Penh'})),_0x4788e5=_0x3b5f14[_0x14f28f(0x15b)](),_0x265e48=_0x3b5f14[_0x14f28f(0x187)]();if(_0x32cb12[_0x14f28f(0x188)]()==='under\x20construct')return{'iconClass':'fa-tools','badgeClass':_0x14f28f(0x179),'displayText':_0x14f28f(0x1a0)};else{if(_0x32cb12[_0x14f28f(0x188)]()===_0x14f28f(0x153))return{'iconClass':_0x14f28f(0x17d),'badgeClass':'bg-success\x20text-white','displayText':_0x14f28f(0x152)};else{const _0x335bd2=0x5,_0x4e6653=0x14,_0x248b23=0x1e;return _0x4788e5<_0x335bd2||_0x4788e5>_0x4e6653||_0x4788e5===_0x4e6653&&_0x265e48>=_0x248b23||_0x4788e5>=0x0&&_0x4788e5<0x5?{'iconClass':'fa-times-circle','badgeClass':'bg-danger\x20text-white','displayText':_0x14f28f(0x1a3)}:{'iconClass':_0x14f28f(0x17d),'badgeClass':'bg-success\x20text-white','displayText':'Open\x20until\x208:30\x20PM'};}}}function findNearbyStations(_0x1ffdca,_0x2d1480,_0x3c55df=0xa){const _0x53a16f=a0_0xa61c;return _0x2d1480[_0x53a16f(0x15a)](_0x53505d=>{const _0x3143d3=_0x53a16f,_0x1ad77a=calculateDistance(_0x1ffdca[_0x3143d3(0x17f)],_0x1ffdca[_0x3143d3(0x198)],_0x53505d[_0x3143d3(0x186)],_0x53505d[_0x3143d3(0x170)]);return{..._0x53505d,'distance':_0x1ad77a};})['filter'](_0x4ad294=>_0x4ad294[_0x53a16f(0x19f)]<=_0x3c55df)['sort']((_0x2bf404,_0x973e40)=>_0x2bf404[_0x53a16f(0x19f)]-_0x973e40[_0x53a16f(0x19f)]);}document['getElementById'](a0_0x5ea982(0x176))[a0_0x5ea982(0x155)](a0_0x5ea982(0x15d),function(){const _0x37afb3=a0_0x5ea982;getCurrentLocation()['then'](_0x211a25=>{const _0x23a8fd=a0_0xa61c;fetch('https://raw.githubusercontent.com/pttpos/map_ptt/main/data/markers.json')['then'](_0x33c74b=>_0x33c74b['json']())['then'](_0x4e7c7f=>{const _0x47ab63=a0_0xa61c,_0x42b7c5=_0x4e7c7f[_0x47ab63(0x19a)],_0x12a669=findNearbyStations(_0x211a25,_0x42b7c5),_0xf2f9cb=document['getElementById']('nearbyStationsList');_0xf2f9cb[_0x47ab63(0x196)]='';_0x12a669[_0x47ab63(0x154)]>0x0?_0x12a669['forEach'](_0x5e870d=>{const _0x7eec2d=_0x47ab63,_0x2d1ba2=document['createElement']('li');_0x2d1ba2[_0x7eec2d(0x16f)][_0x7eec2d(0x168)](_0x7eec2d(0x19e));let _0x3afdcc='';_0x5e870d[_0x7eec2d(0x16c)]&&_0x5e870d[_0x7eec2d(0x16c)][_0x7eec2d(0x169)](_0x4a9b07=>_0x4a9b07)[_0x7eec2d(0x154)]&&(_0x3afdcc=_0x7eec2d(0x19d)+_0x5e870d[_0x7eec2d(0x16c)][_0x7eec2d(0x169)](_0xac6fbd=>_0xac6fbd)[_0x7eec2d(0x15a)](_0x2ad737=>_0x7eec2d(0x175)+getItemIcon(_0x2ad737)+'\x22\x20alt=\x22'+_0x2ad737+'\x22>')[_0x7eec2d(0x195)]('')+_0x7eec2d(0x18c));let _0xe340c='';_0x5e870d[_0x7eec2d(0x189)]&&_0x5e870d[_0x7eec2d(0x189)][_0x7eec2d(0x169)](_0x473d21=>_0x473d21)[_0x7eec2d(0x154)]&&(_0xe340c=_0x7eec2d(0x19d)+_0x5e870d[_0x7eec2d(0x189)]['filter'](_0x8053c=>_0x8053c)[_0x7eec2d(0x15a)](_0x20fc30=>_0x7eec2d(0x175)+getProductIcon(_0x20fc30)+_0x7eec2d(0x159)+_0x20fc30+'\x22>')[_0x7eec2d(0x195)]('')+_0x7eec2d(0x18c));let _0xf321f4='';_0x5e870d[_0x7eec2d(0x18a)]&&_0x5e870d[_0x7eec2d(0x18a)]['filter'](_0x1130eb=>_0x1130eb)[_0x7eec2d(0x154)]&&(_0xf321f4=_0x7eec2d(0x19d)+_0x5e870d[_0x7eec2d(0x18a)]['filter'](_0x45b397=>_0x45b397)[_0x7eec2d(0x15a)](_0x178308=>'<img\x20src=\x22'+getProductIcon(_0x178308)+_0x7eec2d(0x159)+_0x178308+'\x22>')[_0x7eec2d(0x195)]('')+_0x7eec2d(0x18c));let _0xfcc51b='';_0x5e870d['service']&&_0x5e870d[_0x7eec2d(0x164)]['filter'](_0x56fdf9=>_0x56fdf9)[_0x7eec2d(0x154)]&&(_0xfcc51b=_0x7eec2d(0x19d)+_0x5e870d[_0x7eec2d(0x164)][_0x7eec2d(0x169)](_0x293962=>_0x293962)['map'](_0x3c01ca=>_0x7eec2d(0x175)+getItemIcon(_0x3c01ca)+_0x7eec2d(0x159)+_0x3c01ca+'\x22>')[_0x7eec2d(0x195)]('')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>');const _0x234eea=getStatusInfo(_0x5e870d[_0x7eec2d(0x162)]);_0x2d1ba2['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22d-flex\x20align-items-start\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/'+_0x5e870d[_0x7eec2d(0x15c)]+_0x7eec2d(0x159)+_0x5e870d[_0x7eec2d(0x15e)]+_0x7eec2d(0x15f)+_0x234eea['badgeClass']+_0x7eec2d(0x17e)+_0x234eea[_0x7eec2d(0x151)]+_0x7eec2d(0x166)+_0x234eea[_0x7eec2d(0x192)]+_0x7eec2d(0x160)+_0x5e870d['distance'][_0x7eec2d(0x174)](0x2)+_0x7eec2d(0x18b)+_0x5e870d[_0x7eec2d(0x15e)]+_0x7eec2d(0x1a2)+_0x5e870d['address']+_0x7eec2d(0x157)+_0x3afdcc+_0x7eec2d(0x199)+_0xe340c+_0x7eec2d(0x199)+_0xf321f4+_0x7eec2d(0x199)+_0xfcc51b+_0x7eec2d(0x150);const _0x3caf9f=new Date()[_0x7eec2d(0x183)]('en-US',{'timeZone':'Asia/Phnom_Penh','hour12':![]}),[_0x3c12b5,_0x19e1ff]=_0x3caf9f['split'](':')[_0x7eec2d(0x15a)](Number),_0x21ede7=0x5,_0x319972=0x14,_0x9d4cd9=0x1e,_0x3eaf4b=_0x5e870d['status']===_0x7eec2d(0x153),_0x262d2a=_0x3eaf4b||_0x3c12b5>_0x21ede7&&(_0x3c12b5<_0x319972||_0x3c12b5===_0x319972&&_0x19e1ff<_0x9d4cd9);_0x262d2a?_0x2d1ba2[_0x7eec2d(0x16f)][_0x7eec2d(0x168)](_0x7eec2d(0x178)):_0x2d1ba2[_0x7eec2d(0x16f)]['add'](_0x7eec2d(0x194)),_0x2d1ba2['addEventListener'](_0x7eec2d(0x15d),()=>{const _0x16fd2f=_0x7eec2d;map[_0x16fd2f(0x17a)]([parseFloat(_0x5e870d[_0x16fd2f(0x186)]),parseFloat(_0x5e870d[_0x16fd2f(0x170)])],0xf);const _0x51f650=allMarkers[_0x16fd2f(0x16a)](_0x45e4a4=>parseFloat(_0x45e4a4['data'][_0x16fd2f(0x186)])===parseFloat(_0x5e870d[_0x16fd2f(0x186)])&&parseFloat(_0x45e4a4['data'][_0x16fd2f(0x170)])===parseFloat(_0x5e870d[_0x16fd2f(0x170)]));_0x51f650?(_0x51f650['marker'][_0x16fd2f(0x184)](),showMarkerModal(_0x5e870d,'https://raw.githubusercontent.com/pttpos/map_ptt/main/pictures/'+_0x5e870d[_0x16fd2f(0x15c)]),getCurrentLocation()[_0x16fd2f(0x17c)](_0x55c5e2=>{const _0x30aaed=_0x16fd2f;getBingRoute(_0x55c5e2[_0x30aaed(0x17f)],_0x55c5e2[_0x30aaed(0x198)],_0x5e870d[_0x30aaed(0x186)],_0x5e870d[_0x30aaed(0x170)])[_0x30aaed(0x17c)](_0x1b11c1=>{const {distance:_0x5c20eb,travelTime:_0x4a4228}=_0x1b11c1;updateModalWithRoute(_0x5c20eb,_0x4a4228,_0x5e870d['status']);})[_0x30aaed(0x1a1)](_0x5e5caa=>{const _0x51a668=_0x30aaed;console[_0x51a668(0x17b)](_0x51a668(0x158),_0x5e5caa),updateModalWithRoute(_0x51a668(0x193),_0x51a668(0x193),_0x5e870d[_0x51a668(0x162)]);});})[_0x16fd2f(0x1a1)](_0x3be37a=>{const _0x321398=_0x16fd2f;console['error'](_0x321398(0x19c),_0x3be37a),updateModalWithRoute('N/A',_0x321398(0x193),_0x5e870d[_0x321398(0x162)]);})):console['error'](_0x16fd2f(0x18d),_0x5e870d);const _0x1e5c99=bootstrap[_0x16fd2f(0x173)][_0x16fd2f(0x181)](document[_0x16fd2f(0x190)](_0x16fd2f(0x18e)));_0x1e5c99[_0x16fd2f(0x191)]();}),_0xf2f9cb['appendChild'](_0x2d1ba2);}):_0xf2f9cb[_0x47ab63(0x196)]='<li\x20class=\x27list-group-item\x27>No\x20nearby\x20stations\x20found.</li>';var _0x47d34e=new bootstrap[(_0x47ab63(0x173))](document[_0x47ab63(0x190)](_0x47ab63(0x18e)));_0x47d34e['show']();})[_0x23a8fd(0x1a1)](_0x1e2734=>{const _0x42b912=_0x23a8fd;_0x1e2734(_0x42b912(0x161),_0x1e2734);});})[_0x37afb3(0x1a1)](_0x209f2b=>{const _0xab3641=_0x37afb3;_0x209f2b('Error\x20getting\x20current\x20location:',_0x209f2b),alert(_0xab3641(0x16d));});});